version: '3.8'
services:
  restaurant-service:
    build:
      context: ./restaurant-service
    ports:
      - "5002:5002"
    environment:
      - MONGO_URI=mongodb://mongo:27017/restaurant
      - PORT=5002
      - JWT_SECRET=MnAIm95T4VUQWaC591bxkhdmhZDlQk3EP2TFP27YUo65WjRBPxThKVd8PzH0M3wxQB3uX5XvzhYXf8n8jV8Vd8sfUatNPnK1Fo0IBnofLgKKqRWlQoJYBgnWIu3Er0IPB37cshF1KQK3o5r3loXYHBX1BGblU4pdgXZBBLuz5BnpzsSHAEaOQHKWyTEXry5TdkFvEpqXXtT74fZXQz9kJmQceiF8wKyWD1Rx50nyKj08XFx8WlEoOYmUNp8P9IQY
    depends_on:
      - mongo

  order-service:
    build:
      context: ./order-service
    ports:
      - "5005:5005"
    environment:
      - MONGO_URI=mongodb://mongo:27017/order
      - PORT=5005
    depends_on:
      - mongo

  payment-service:
    build:
      context: ./payment-service
    ports:
      - "5004:5004"
    environment:
      - MONGO_URI=mongodb://mongo:27017/payment
      - PORT=5004
      - NODE_ENV=production
    depends_on:
      - mongo

  auth-service:
    build:
      context: ./auth-service
    ports:
      - "5001:4000"
    environment:
      - MONGO_URI=mongodb://mongo:27017/Auth
      - PORT=4000
      - JWT_SECRET=MnAIm95T4VUQWaC591bxkhdmhZDlQk3EP2TFP27YUo65WjRBPxThKVd8PzH0M3wxQB3uX5XvzhYXf8n8jV8Vd8sfUatNPnK1Fo0IBnofLgKKqRWlQoJYBgnWIu3Er0IPB37cshF1KQK3o5r3loXYHBX1BGblU4pdgXZBBLuz5BnpzsSHAEaOQHKWyTEXry5TdkFvEpqXXtT74fZXQz9kJmQceiF8wKyWD1Rx50nyKj08XFx8WlEoOYmUNp8P9IQY
      - JWT_EXPIRES_IN=1d
    depends_on:
      - mongo

  mongo:
    image: mongo:6.0
    ports:
      - "27018:27017"
